

@using PagedList.Mvc
@model PagedList.IPagedList<OA.Domain.Core.Entitys.tbExpertizy>



<div id="allviewResult">
    <div class="row">
        @{int i = 1; }
        @{char slash = '/'; }
        @foreach (var item in Model)
        {
            if (item.N2 == String.Empty && item.N3 == String.Empty) { slash = ' '; }

            else { slash = '/'; }
            if (IsExpert)
            {
                <div class="col-md-12 card accordion ui-accordion ui-widget ui-helper-reset">
                    <h5 class="card-title ui-accordion-header ui-corner-top ui-accordion-header-collapsed ui-corner-all ui-state-default ui-accordion-icons">
                        <span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-e"></span>
                        <div class="row">
                            <div class="expertiseNumber">
                                @Html.DisplayFor(modelItem => item.N1) @slash @Html.DisplayFor(modelItem => item.N2) @slash @Html.DisplayFor(modelItem => item.N3)
                            </div>
                            <div class="col-md-10 pr-0 expertiseTitle">@Html.DisplayFor(modelItem => item.TitleDoc)</div>
                        </div>
                    </h5>
                    <div class="p-0" style="display:none">@Html.Action("PartialDetails", "Expertise", new { id = item.ID })</div>
                </div>
            }
            if (!IsExpert)
            {
                <div class="col-md-12">
                    <div class="card d-flex">
                        <div class="card-body" style=" display: inherit; padding: 12px;">
                            @if (IsOperator1)
                            {
                                <h5 class="card-title"> <a id="@i" class="expertiseNumber" href="@Url.Action("Operator1Edit", "Expertise", new { id = item.ID })"> @Html.DisplayFor(modelItem => item.N1) @slash @Html.DisplayFor(modelItem => item.N2) @slash @Html.DisplayFor(modelItem => item.N3)</a></h5>
                            }
                            @if (IsOperator2)
                            {
                                <h5 class="card-title"> <a id="@i" class="expertiseNumber" target="_blank" href="@Url.Action("Operator2Edit", "Expertise", new { id = item.ID })"> @Html.DisplayFor(modelItem => item.N1) @slash @Html.DisplayFor(modelItem => item.N2) @slash @Html.DisplayFor(modelItem => item.N3)</a></h5>
                            }
                            @if (IsAdmin)
                            {
                                <h5 class="card-title"> <a id="@i" class="expertiseNumber" target="_blank" href="@Url.Action("Revision", "Expertise", new { id = item.ID })"> @Html.DisplayFor(modelItem => item.N1) @slash @Html.DisplayFor(modelItem => item.N2) @slash @Html.DisplayFor(modelItem => item.N3)</a></h5>
                            }
                            @if (IsControler)
                            {
                                <h5 class="card-title"> <a id="@i" class="expertiseNumber" target="_blank" href="@Url.Action("Details", "Expertise", new { id = item.ID })"> @Html.DisplayFor(modelItem => item.N1) @slash @Html.DisplayFor(modelItem => item.N2) @slash @Html.DisplayFor(modelItem => item.N3)</a></h5>
                            }
                            @if (IsManager)
                            {
                                <h5 class="card-title"> <a id="@i" class="expertiseNumber" href="@Url.Action("Details", "Expertise", new { id = item.ID })"> @Html.DisplayFor(modelItem => item.N1) @slash @Html.DisplayFor(modelItem => item.N2) @slash @Html.DisplayFor(modelItem => item.N3)</a></h5>
                            }
                            <div class="col-md-10">@Html.DisplayFor(modelItem => item.TitleDoc)</div>
                        </div>
                    </div>
                </div>
            }
            i++;
        }

    </div>
    @if (Model.Count > 0)
    {
        <div class="text-center ml-2">
            <div class="small">
                Сторінка @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) з @Model.PageCount
            </div>
            @Html.PagedListPager(Model, page => Url.Action("AllExpertisesView", new { page }), PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(new AjaxOptions() { HttpMethod = "GET", UpdateTargetId = "indexContainer" }))
        </div>
    }
    @if (Model.Count == 0)
    {
        <div>
            <h3 class="text-danger text-center">За даними параметрами нічого знайдено не було...</h3>
        </div>
    }
</div>

<script src='@Url.Content("~/Scripts/customScripts/Accordion.js")' type="text/javascript"></script>
@*<script src='@Url.Content("~/Scripts/customScripts/RecentView.js")' type="text/javascript"></script>*@
